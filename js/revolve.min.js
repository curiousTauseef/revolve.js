!function(e,t){"function"==typeof define&&define.amd?define(["RevolveThemes"],t):"object"==typeof module&&module.exports?module.exports=t(require("RevolveThemes")):e.Revolve=t(e.RevolveThemes)}("undefined"!=typeof self?self:this,function(e){let t={clock:(e,t)=>{let r=new s(e,t);return g(t.theme,(e,t)=>{r.theme=e,r.init()}),r},gauge:(e,t)=>{let s=new r(e,t);return g(t.theme,(e,t)=>{s.theme=e,s.init()}),s}};class r{constructor(e,t){e.obj=this,this.ctx=e,function e(){let t,r,s,n,o,i,a=arguments[0]||{},l=1,c=arguments.length,u=!1;"boolean"==typeof a&&(u=a,a=arguments[l]||{},l++);"object"!=typeof a&&"function"!=typeof a&&(a={});for(;l<c;l++)if(null!==(t=arguments[l]))for(r in t)s=a[r],n=t[r],a!==n&&(u&&n&&(m(n)||(o=n.constructor===Array))?(o?(o=!1,i=s&&s.constructor===Array?s:[]):i=s&&m(s)?s:{},a[r]=e(u,i,n)):void 0!==n&&(a[r]=n));return a}(!0,this,{logicalSize:512,label:"Revolve.js | v1.0.0",mode:"discrete",center:[0,0],radius:Math.min(e.canvas.width,e.canvas.height)/2},t)}init(){this.theme.axes&&(this.axes={},Object.keys(this.theme.axes).forEach(e=>{let t=this.theme.axes[e];this.axes[e]=new n(t.pointA.angle,t.pointB.angle,t.pointA.value,t.pointB.value)},this)),this.render()}set value(e){!e||v(e)&&!e.trim()?this.safeValue=0:v(e)?this.safeValue=parseFloat(e):this.safeValue=e}render(){this.ctx.translate(this.radius/2,this.radius/2);let e=this.theme;e.layers&&Object.keys(e.layers).forEach(function(t){i[e.layers[t].type](this.ctx,this,e.layers[t])}.bind(this))}}class s extends r{constructor(e,t){super(e,t)}init(){super.init(),this.paused||this.start()}start(){this.timer||(this.started=c(),this.paused=!1,this.timer=setInterval(function(){let e=c();if("continuous"===this.mode)this.safeValue=e,this.render();else{let t=1e3*Math.floor(e/1e3);t!==this.safeValue&&(this.safeValue=t,this.render())}}.bind(this),this.interval||1e3/24))}stop(){this.paused=!0,this.timer&&(clearInterval(this.timer),this.timer=null)}set value(e){if(null==e||v(e)&&!e.trim())this.safeValue=c();else if(v(e)){let t=e.split(":").map(e=>parseInt(e,10));for(;t.length<4;)t.push(0);let r=new Date,s=new Date(r.getFullYear(),r.getMonth(),r.getDay(),t[0],t[1],t[2]);this.safeValue=c(s)}else e instanceof Date&&(this.safeValue=c(e))}}class n{constructor(e,t,r,s){this.pointA={angle:e,value:r},this.pointB={angle:t,value:s};let n=e<t?t-e:360-e+t,o=Math.abs(s-r);this.unitDegrees=n/o}toAngle(e){return this.pointA.angle+(e-this.pointA.value)*this.unitDegrees}}const o={HOURS:new n(0,360,0,432e5),HOURS24:new n(0,360,0,864e5),MINUTES:new n(0,360,0,36e5),SECONDS:new n(0,360,0,6e4)};class i{static arc(e,t,r,s){s||l(e,t,r),s&&e.beginPath();let n=void 0!==r.radius?p(r.radius,t):t.radius,o=r.border?p(r.border.width,t):0,i=void 0===r.degrees?2*Math.PI:a*(r.degrees-(s?0:90)),c=r.center||t.center,u=void 0===r.start||s?0:a*(r.start-90);e.arc(p(c[0],t),p(c[1],t),n-o/2,u,i),r.color&&e.fill(),r.border&&e.stroke()}static circle(e,t,r){i.arc(e,t,r)}static rect(e,t,r){e.rect(p(r.bounds[0],t),p(r.bounds[1],t),p(r.bounds[2],t),p(r.bounds[3],t)),r.color&&e.fill(),r.border&&e.stroke()}static triangle(e,t,r){e.beginPath(),e.moveTo(p(r.points[0].x,t),p(r.points[0].y,t)),e.lineTo(p(r.points[1].x,t),p(r.points[1].y,t)),e.lineTo(p(r.points[2].x,t),p(r.points[2].y,t)),e.closePath(),r.color&&e.fill(),r.border&&e.stroke()}static path(e,t,r){e.beginPath(),e.moveTo(p(r.points[0].x,t),p(r.points[0].y,t)),r.points.slice(1).forEach(r=>{e.lineTo(p(r.x,t),p(r.y,t))}),e.closePath(),r.color&&e.fill(),r.border&&e.stroke()}static sector(e,t,r){l(e,t,r);let s=(r.from-90)*a,n=(r.to-90)*a,o=void 0!==r.radius?p(r.radius,t):t.radius,i=r.center||t.center;e.arc(p(i[0],t),p(i[1],t),o,s,n),e.lineTo(p(i[0],t),p(i[1],t)),e.closePath(),r.color&&e.fill(),r.border&&e.stroke()}static radial(e,t,r){l(e,t,r);let s=function(e){if(e.count)return e.count;let t=12;switch(e.content){case"text":case"ticks":"minute"===e.layout||"second"===e.layout?t=60:"hour"===e.layout?t=12:"24"===e.layout?t=24:"120"===e.layout&&(t=120)}return t}(r),n=r.degrees||360/s;for(let o=0;o<s;o++)if(!(r.exclude&&r.exclude.includes(o)||r.include&&!r.include.includes(o))){if(e.resetTransform(),e.translate(t.radius,t.radius),r.orient||"text"!==r.content){let t=o*n+(r.start||0)+0;e.rotate(a*t)}"text"===r.content?u(o,e,t,r):"ticks"===r.content?d(o,e,t,r):"arcs"===r.content?i.arc(e,t,r,!0):Array.isArray(r.content)&&(r.content.forEach(r=>{this[r.type](e,t,r)},i),r.color&&e.fill(),r.border&&e.stroke())}}static text(e,t,r){l(e,t,r),e.font=r.weight+" "+p(r.size,t)+"px "+r.family,r.value||(r.value="");let s,n,o=r.value.length>0&&"$"===r.value[0]?t[r.value.substr(1)]:r.value;if(void 0===o&&(o=""),"center"===r.align){let i=e.measureText(o);s=p(r.pos[0],t)-i.width/2,n=p(r.pos[1]+r.size/2,t)}else s=p(r.pos[0],t),n=p(r.pos[1],t);e.fillText(o,s,n)}static arm(e,t,r){if(l(e,t,r),!r.axis)return;let s=r.axis.trim().toUpperCase(),n=t.axes&&t.axes[s]||o[s],c=r.relative?t.safeValue-t.started:t.safeValue;e.rotate(a*n.toAngle(c)),Array.isArray(r.layers)?(r.layers.forEach(r=>{this[r.type](e,t,r)},i),r.color&&e.fill(),r.border&&e.stroke()):r.style&&"line"!==r.style?"rect"===r.style?(e.rect(t.center[0]-p(r.width,t)/2,t.center[1]-p(r.length,t),p(r.width,t),p(r.length+r.offset,t)),e.fill()):y(r.style)&&r.style(e,t,r):(e.lineWidth=p(r.width,t),e.moveTo(t.center[0],t.center[1]+p(r.offset,t)),e.lineTo(t.center[0],t.center[1]-p(r.length,t)),e.stroke())}static events(e,t,r){e.resetTransform(),t.events&&t.events.forEach((s,n)=>{let o=s.from.split(":").map(e=>parseInt(e,10));for(;o.length<4;)o.push(0);let a=s.to.split(":").map(e=>parseInt(e,10));for(;a.length<4;)a.push(0);let l={color:["#0c52eb","red","green","gold","orange","white"][n],radius:r.radius[0]-r.width*n,from:f(o)/2+180,to:f(a)/2+180};if(0===n){let r=l.color;l.color="black",i.circle(e,t,l),l.color=r}i.sector(e,t,l),l.color="black",l.radius-=r.width,i.circle(e,t,l)})}}const a=Math.PI/180;function l(e,t,r){e.resetTransform(),e.translate(t.radius,t.radius),e.beginPath(),r.color&&(e.fillStyle=e.strokeStyle=function(e,t,r){if(v(e))return e;if(m(e)){let s=e.extent.map(e=>p(e,r)),n="radial"===e.type?t.createRadialGradient.apply(t,s):t.createLinearGradient.apply(t,s);return e.stops.forEach(e=>{n.addColorStop(e.pos,e.color)}),n}return null}(r.color,e,t)),r.border&&(e.strokeStyle=r.border.color,e.lineWidth=p(r.border.width,t)),r.shadow?(e.shadowBlur=r.shadow,e.shadowColor=r.shadowColor):(e.shadowBlur=0,e.shadowColor="#00000000")}function c(e){e=e||new Date;let t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);return e.getTime()-t.getTime()}function u(e,t,r,s){t.font=s.weight.toString()+" "+p(s.size,r)+"px "+s.family,t.strokeStyle=t.fillStyle=s.color;let n=y(s.text)?s.text:h;t.beginPath();let o=function(e,t,r){if(r.orient)return[t.center[0],t.center[1]-p(r.radius,t)];let s=p(r.radius||190,t),n=r.degrees||30;r.start=r.start||0;let o=((r.start||0)+e*n-90)*a;return[t.center[0]+s*Math.cos(o),t.center[1]+s*Math.sin(o)]}(e,r,s),i=n(e,s),l=t.measureText(i);t.fillText(i,o[0]-l.width/2,o[1]+p(s.size/3,r))}function d(e,t,r,s){let n=p(s.radius,r)||r.radius;s.border?(t.rect(r.center[0]-p(s.width/2,r),r.center[1]-n,p(s.width,r),p(s.length,r)),t.fill(),t.stroke()):(t.lineWidth=p(s.width,r),t.strokeStyle=s.color,t.moveTo(r.center[0],r.center[1]-n),t.lineTo(r.center[0],r.center[1]-n+p(s.length,r)),t.stroke())}function h(e,t){if(v(t.text)){switch(t.text){case"roman":return["X11","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][e];case"minutes":var r=5*e;return(r>9?r:"0"+r).toString();case"HH":return(e=e||12)<10?"0"+e:e.toString();case"12":return e||12;case"10":return e||10;case"NN":case"24":return e<10?"0"+e:e.toString();case"31":var s=e+1;return s<10?"0"+s:s.toString();case"months":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e].toUpperCase()}if("*"===t.text[0]){return(e*parseInt(t.text.substr(1),10)).toString()}}else if(t.text&&t.text.length)return t.text[e].toString();return e.toString()}function f(e){return(60*e[0]+e[1]+e[2]/60+e[3]/6e4)/2}function p(e,t){let r=2*t.radius;if(v(e)){let t=/\s*(\d+\.?\d*)\s*(px|%)?/.exec(e);if(null!=t&&3===t.length){let s=t[1],n=parseFloat(s);switch((t[2]||"").toLowerCase().trim()){case"px":return n;case"%":return r*(n/100);case"":e=n}}}return t.logicalSize===r?e:e/t.logicalSize*r}function g(e,t){return v(e)?function(e,t){let r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET","/themes/"+e+".json",!0),r.onreadystatechange=function(){4==r.readyState&&"200"==r.status&&t(r.responseText)},r.send(null)}(e,e=>{t(JSON.parse(e),e)}):t(e,JSON.stringify(e))}if("undefined"!=typeof document){let e=()=>{document.querySelectorAll("canvas[data-revolve]").forEach(e=>{revolveAPI[e.dataset.revolve||"clock"](e.getContext("2d"),{theme:e.dataset.theme,paused:"true"===e.dataset.paused})})};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return e&&"[object Function]"==={}.toString.call(e)}function v(e){return"string"==typeof e}return t});